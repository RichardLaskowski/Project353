<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Profile</title>
        <h:outputStylesheet library="css" name="profile.css"/>
        <h:outputScript library="js" name="jquery-2.2.3.min.js"/>
        <h:outputScript library="js" name="feed.js"/>
    </h:head>
    <h:body>
        <div class ="grid">
            <header> <h1>LinkedU</h1>
                <div class="searchbar">
                    <span>
                        <h:form id="SearchForm" >
                            <p:inputText class="searchInput" value="#{searchController.search}" a:placeholder="Search" ></p:inputText>
                            <p:commandButton id="searchButton" value="Search" action="#{searchController.searchByName()}"/>
                        </h:form>
                    </span>
                </div>
            </header>
            <feed class ="feed-grid">
                <h:form class="status">
                    <div class="title">
                        <h1>Status Update</h1>
                    </div>
                    <div class="content"> 
                        <h:graphicImage/>
                        <h:inputText value="#{profileController.postController.postModel.textContent}" a:placeholder="Write something..."></h:inputText>
                    </div>
                    <div class="post-button"> 
                        <h:commandButton value="Post" action="#{profileController.createPost()}"></h:commandButton>
                    </div> 
                    <div class="post-button"> 
                        <h:commandButton value="Upload"></h:commandButton>
                    </div>
                </h:form>
                <h:dataTable value="#{profileController.userModel.getProfile().post}"  cellspacing="0px" cellpadding="0px" var="post">
                    <h:column>
                        <h:form class="post">
                            <div class="post-wrapper">
                                <div class ="profilepic-post">
                                    <center>
                                        <h:graphicImage value="resources/images/default-profile.png" height="80px" width="80px" />
                                    </center>
                                </div>
                                <div class="post-content">
                                    <h:graphicImage/>
                                    <h:outputText value="#{post.textContent}"/>
                                </div>
                                <div class="like-button">
                                    <h:commandButton value="Like"></h:commandButton>
                                </div>
                                <div class="view-button">
                                    <h:commandButton id="view_comments_button" value="Upload"></h:commandButton>
                                </div>
                            </div>
                            <div class="comment">
                                <div class="filler-grid">
                                    <button type="button" class="accordion">View Comments</button>
                                    <div class="panel">
                                        <h:dataTable class="datatable" value="#{post.comments}" cellspacing="0px" cellpadding="0px" var="comment">
                                            <h:column>
                                                    <div class="comment-grid">
                                                        <h:outputText class="comment-content" value="#{post.username} - #{comment.content}" /><br></br><br></br> 
                                                    </div>   
                                            </h:column> 
                                        </h:dataTable>
                                    </div> 
                                </div>
                                <h:form>
                                    <div class="comment-input-grid">
                                        <div class="comment-button">
                                            <h:commandButton value="Comment" action="#{profileController.createComment(post.postId)}"></h:commandButton>
                                        </div>
                                        <h:inputText class="input-comment" a:placeholder="Write a comment..." value="#{profileController.commentController.commentModel.content}"></h:inputText>
                                    </div>
                                </h:form>
                            </div>
                        </h:form>
                        <br/><br/>
                    </h:column>           
                </h:dataTable>
            </feed>
        <aside>
                <h:form id="sidebar">
                    <div class ="profilepic">
                        <center>
                            <p:graphicImage value="#{mediaController.image}" height="auto" width="100%" />
                        </center>
                    </div>
                    <h:commandButton  id="home" class="sidebarbutton" action="signUp?faces-redirect=true" value="Home" ></h:commandButton>
                    <br/>
                    <br/>
                    <h:commandButton  id="search" class="sidebarbutton" action="searchResults?faces-redirect=true" value="Search" ></h:commandButton>
                    <br/>
                    <br/>
                    <h:commandButton  id="feed" class="sidebarbutton" action="feed?faces-redirect=true" value="Feed" ></h:commandButton>
                    <br/>
                    <br/>
                    <h:commandButton  id="details" class="sidebarbutton" action="update.xhtml?faces-redirect=true" value="My Details" ></h:commandButton>
                    <br/>
                    <br/>
                    <h:commandButton  id="logOut" class="sidebarbutton" action="logOut.xhtml?faces-redirect=true" value="Log Out" ></h:commandButton>
                    <br/>
                    <br/>
                    <b><i>Featured College:
                            <br/>
                            Illinois State University
                        </i></b>
                    <h:outputLink value="https://illinoisstate.edu/">
                        <h:graphicImage value="resources/images/illinois-state-showcase.jpg" height="auto" width="100%" />
                    </h:outputLink>
                </h:form>
            </aside>
            <aside2>
                <h3> 
                <h:outputText value="#{profileController.userName}"></h:outputText>
                's Detailed Info</h3>
                <br/>
                <h:outputText value="#{profileController.department}"></h:outputText>
                <br/>
                <h:outputText value="#{profileController.university}"></h:outputText>
                <br/>
                <h:outputText value="#{profileController.phone}"></h:outputText>
                <br/>                
                <h:commandButton class="sidebarbutton" value="Request More Details"> </h:commandButton>   
            </aside2>
            <footer>LINKEDU LLC. Created By Eric, Akankshaw, Dryden and Ricky</footer>
        </div>
    </h:body>
</html>


